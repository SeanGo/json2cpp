<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Json2cpp by ZhengfengRao</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Json2cpp</h1>
      <h2 class="project-tagline">interconverting json string and c++ class(convert json string to c++ class, and convert c++ class to json string)</h2>
      <a href="https://github.com/ZhengfengRao/json2cpp" class="btn">View on GitHub</a>
      <a href="https://github.com/ZhengfengRao/json2cpp/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ZhengfengRao/json2cpp/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="json2cpp" class="anchor" href="#json2cpp" aria-hidden="true"><span class="octicon octicon-link"></span></a>json2cpp</h1>

<p><img src="https://img.shields.io/badge/release-0.3.2-blue.svg" alt=""></p>

<h2>
<a id="a-tool-for-json--c-mapping" class="anchor" href="#a-tool-for-json--c-mapping" aria-hidden="true"><span class="octicon octicon-link"></span></a>A tool for JSON &amp; C++ Mapping</h2>

<p>Copyright (C) 2016, ZhengFeng Rao, NASaCJ. All rights reserved.</p>

<h2>
<a id="build-status" class="anchor" href="#build-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build Status</h2>

<table>
<thead>
<tr>
<th align="center">Platfrom</th>
<th align="center"><a href="https://travis-ci.org/nasacj/json2cpp">Linux</a></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Status</td>
<td align="center"><a href="https://travis-ci.org/nasacj/json2cpp"><img src="https://travis-ci.org/nasacj/json2cpp.svg?branch=master" alt="Build Status"></a></td>
</tr>
</tbody>
</table>

<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h2>

<p>JSON is a kind of <strong>Object</strong> notation. When programmers deal with the json strings by C++ json APIs (eg, <a href="https://github.com/miloyip/rapidjson">RapidJSON</a>, <a href="https://github.com/open-source-parsers/jsoncpp">jsoncpp</a>) they have to write codes for parsing each different Class, which there may be a lot of similar repeated API calling codes.
So json2cpp can help programmer to auto-generate the C++ codes for transferring form JSON to C++ and conversely.
json2cpp is a script tool written in python language. It uses <a href="http://pyparsing.wikispaces.com/">pyparsing</a> to parse a Modeling file to C++ files and <a href="https://github.com/miloyip/rapidjson">RapidJSON</a>, <a href="https://github.com/open-source-parsers/jsoncpp">jsoncpp</a> for C++ to parse the JSON.</p>

<h2>
<a id="installation-before-use" class="anchor" href="#installation-before-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation before use</h2>

<ul>
<li>json2cpp depends on Python and pyparsing, so make sure that <a href="https://www.python.org/">Python</a> has been installed on your System</li>
<li>For installing  <a href="http://pyparsing.wikispaces.com/">pyparsing</a>, use "<a href="https://pypi.python.org/pypi/setuptools">easy_install</a>" to install it through command line:</li>
</ul>

<div class="highlight highlight-source-shell"><pre>user@localhost $ sudo easy_install pyparsing</pre></div>

<h2>
<a id="download--run-sample" class="anchor" href="#download--run-sample" aria-hidden="true"><span class="octicon octicon-link"></span></a>Download &amp; Run Sample</h2>

<p>Thie simple instruction shows a common running command of json2cpp</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/nasacj/json2cpp
<span class="pl-c1">cd</span> json2cpp
./json2cpp.py rapidjson sample.jsf <span class="pl-c1">test</span>
<span class="pl-c1">cd</span> test/test
make
./test</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Before use json2cpp, a definition file is required:</p>

<h3>
<a id="define-the-class" class="anchor" href="#define-the-class" aria-hidden="true"><span class="octicon octicon-link"></span></a>Define the class</h3>

<p>As sample.jsf file shows, user can define the class structure as C++ sytle. The classes are according to the JSON objects:</p>

<h4>
<a id="sample-json-object-for-request" class="anchor" href="#sample-json-object-for-request" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sample JSON Object for Request</h4>

<div class="highlight highlight-source-json"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>sourceId<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,
    <span class="pl-s"><span class="pl-pds">"</span>orgId<span class="pl-pds">"</span></span>: <span class="pl-c1">10</span>,
    <span class="pl-s"><span class="pl-pds">"</span>ivcType<span class="pl-pds">"</span></span>: <span class="pl-c1">100</span>,
    <span class="pl-s"><span class="pl-pds">"</span>reqNo<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>asd<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>payerNo<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>10032-11<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>businessIds<span class="pl-pds">"</span></span>: [
        <span class="pl-s"><span class="pl-pds">"</span>saddd<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>xxxx<span class="pl-pds">"</span></span>
    ],
    <span class="pl-s"><span class="pl-pds">"</span>invoiceTicket<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>invoiceType<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Normal<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>invoiceCode<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>200001<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>invoiceAddress<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>: <span class="pl-c1">10001</span>,
            <span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>New York<span class="pl-pds">"</span></span>,
        },
        <span class="pl-s"><span class="pl-pds">"</span>optionalAddress<span class="pl-pds">"</span></span>: [
            {
                <span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>: <span class="pl-c1">10002</span>,
                <span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Shanghi<span class="pl-pds">"</span></span>,
            },
            {
                <span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>: <span class="pl-c1">10003</span>,
                <span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Beijing<span class="pl-pds">"</span></span>,
            }
        ]
    }
}</pre></div>

<h4>
<a id="sample-json-object-for-response" class="anchor" href="#sample-json-object-for-response" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sample JSON Object for Response:</h4>

<div class="highlight highlight-source-json"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>200<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>This is msg<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>reqNo<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>100200012<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>businessIds<span class="pl-pds">"</span></span>: [
        <span class="pl-s"><span class="pl-pds">"</span>111asd<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>2cde2<span class="pl-pds">"</span></span>
    ],
    <span class="pl-s"><span class="pl-pds">"</span>invoiceTicket<span class="pl-pds">"</span></span>: {
        <span class="pl-s"><span class="pl-pds">"</span>invoiceType<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Normal<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>invoiceCode<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>200001<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>invoiceAddress<span class="pl-pds">"</span></span>: {
            <span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>: <span class="pl-c1">10001</span>,
            <span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Shanghai<span class="pl-pds">"</span></span>,
        },
        <span class="pl-s"><span class="pl-pds">"</span>optionalAddress<span class="pl-pds">"</span></span>: [
            {
                <span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>: <span class="pl-c1">10002</span>,
                <span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Beijing<span class="pl-pds">"</span></span>,
            },
            {
                <span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>: <span class="pl-c1">10003</span>,
                <span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Hong Kong<span class="pl-pds">"</span></span>,
            }
        ]
    }
}</pre></div>

<h4>
<a id="definitation-of-class-request-and-response" class="anchor" href="#definitation-of-class-request-and-response" aria-hidden="true"><span class="octicon octicon-link"></span></a>Definitation of Class, Request and Response:</h4>

<div class="highlight highlight-source-c++"><pre><span class="pl-c">//namespace Definition</span>
<span class="pl-k">namespace</span> <span class="pl-en">jsf</span><span class="pl-k">;</span>

<span class="pl-c">//Class Definition</span>
@description=<span class="pl-s"><span class="pl-pds">"</span>Address Structure<span class="pl-pds">"</span></span>  <span class="pl-c">//@descpription is optional</span>
<span class="pl-k">class</span> <span class="pl-en">Address</span>
{
    @jsonname=<span class="pl-s"><span class="pl-pds">"</span>provinceNo<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Province ID<span class="pl-pds">"</span></span> <span class="pl-c">//@descpription is optional</span>
    <span class="pl-k">int</span> provinceNo; 

    @jsonname=<span class="pl-s"><span class="pl-pds">"</span>provinceStr<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Province<span class="pl-pds">"</span></span>
    string province;
};

<span class="pl-c">//@descpription is optional</span>
<span class="pl-k">class</span> <span class="pl-en">InvoiceTicket</span>
{
    @jsonname=<span class="pl-s"><span class="pl-pds">"</span>invoiceType<span class="pl-pds">"</span></span> <span class="pl-c">//@descpription is optional</span>
    string invoiceType;

    @jsonname=<span class="pl-s"><span class="pl-pds">"</span>invoiceCode<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Invoice Code<span class="pl-pds">"</span></span>
    string invoiceCode;

    @jsonname=<span class="pl-s"><span class="pl-pds">"</span>invoiceAddress<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Inoice Address<span class="pl-pds">"</span></span>
    Address address;

    @jsonname=<span class="pl-s"><span class="pl-pds">"</span>optionalAddress<span class="pl-pds">"</span></span>
    vector&lt;Address&gt; optionalAddress; <span class="pl-c">//Only use vector for list handling</span>
};

<span class="pl-c">//The Interface which handles the serialization of JSON</span>
@description=<span class="pl-s"><span class="pl-pds">"</span>Add Invoice Interface<span class="pl-pds">"</span></span>
Interface AddInvoice {
    Request {
        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>sourceId<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Source<span class="pl-pds">"</span></span>
        <span class="pl-k">int</span> source;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>orgId<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Organization<span class="pl-pds">"</span></span>
        <span class="pl-k">int</span> organizationId;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>ivcType<span class="pl-pds">"</span></span>,description=<span class="pl-s"><span class="pl-pds">"</span>Type<span class="pl-pds">"</span></span>
        <span class="pl-k">int</span> invoiceType;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>reqNo<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Rquest Number<span class="pl-pds">"</span></span>
        string requestNo;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>payerNo<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Payer No<span class="pl-pds">"</span></span>
        string payNo;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>receiverNo<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>ReceiverNo<span class="pl-pds">"</span></span>, optional=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-c">//Optional member</span>
        string receiverNo ;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>businessIds<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Business ID List<span class="pl-pds">"</span></span>
        vector&lt;string&gt; bussinessIds;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>invoiceTicket<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Invoice Ticket<span class="pl-pds">"</span></span>
        InvoiceTicket invoiceTicket;
    };

    Response {
        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Return Code<span class="pl-pds">"</span></span>
        string code;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>msg<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Message<span class="pl-pds">"</span></span>
        string message;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>reqNo<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Require Number<span class="pl-pds">"</span></span>
        string requestNo;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>businessIds<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>BusinessID<span class="pl-pds">"</span></span>, optional=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>
        vector&lt;string&gt; bussinessIds ;

        @jsonname=<span class="pl-s"><span class="pl-pds">"</span>invoiceTicket<span class="pl-pds">"</span></span>, description=<span class="pl-s"><span class="pl-pds">"</span>Invoice Ticket<span class="pl-pds">"</span></span>
        InvoiceTicket invoiceTicket;
    };
};</pre></div>

<h3>
<a id="generate-the-c-class-files" class="anchor" href="#generate-the-c-class-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generate the C++ Class files</h3>

<div class="highlight highlight-source-shell"><pre>./json2cpp.py sample.jsf dir_test</pre></div>

<p>Command <em>json2cpp</em> takes 2 arguements: <em>{Class definitation File}</em> <em>{Directory}</em>
Outputs in <em>dir_test</em> path is organized by the namespace defined in <em>sample.jsf</em>:</p>

<pre lang="plain"><code>dir_test
├── jsf
     ├── AddInvoice.h
     ├── AddWare.h
     ├── Address.h
     ├── InvoiceTicket.h
     ├── json2cpp.h
     ├── base.h
     ├── macro.h
     └── rapidjson
                ├──
                 ......
</code></pre>

<h3>
<a id="class-usage" class="anchor" href="#class-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Class Usage</h3>

<p>base.h: defines the basic object access:</p>

<blockquote>
<ul>
<li>Field&lt;&gt;:     Every json object in interface class are all Field type. It has Get/SetVaule()</li>
<li>IRequest:  <em>ToJson()</em> serialize C++ Object to JSON string</li>
<li>IResponse: <em>FromJson()</em> unserialize JSON string to C++ Object
macro.h: defines some marcos for internel use.
json2cpp.h: include all header files, provide for other to use.</li>
</ul>
</blockquote>

<p>json2cpp will generate a hpp file each user defined class and interface.
AddInvoice.h: interface AddInvoice implemention.
AddWare.h: interface AddWare implemention.
Address.h: user define class Address implemention.
InvoiceTicket.h: user define class InvoiceTicket implemetion.</p>

<p>all you have to do is include header file "json2cpp.h", and use the classes generated.</p>

<h4>
<a id="c-sample-code" class="anchor" href="#c-sample-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>C++ Sample Code:</h4>

<div class="highlight highlight-source-c++"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>json2cpp.h<span class="pl-pds">"</span></span>

<span class="pl-c">/**** Request Sample ****/</span>
AddInvoiceRequest request;
Address address;
Address address1;
InvoiceTicket invoTic;

address.m_provinceNo.SetValue(<span class="pl-c1">10001</span>);
... <span class="pl-c">//set address and address1 members</span>
invoTic.m_invoiceType.SetValue(<span class="pl-s"><span class="pl-pds">"</span>Normal<span class="pl-pds">"</span></span>);
... <span class="pl-c">//set invoTic members</span>

vector&lt;Address&gt; v_addr;
v_addr.push_back(address1);
invoTic.m_optionalAddress.SetValue(v_addr);

<span class="pl-c">//Set the Request values:</span>
request.m_source.SetValue(<span class="pl-c1">1</span>);
request.m_organizationId.SetValue(<span class="pl-c1">10</span>);
request.m_invoiceType.SetValue(<span class="pl-c1">100</span>);
request.m_requestNo.SetValue(<span class="pl-s"><span class="pl-pds">"</span>asd<span class="pl-pds">"</span></span>);
request.m_payNo.SetValue(<span class="pl-s"><span class="pl-pds">"</span>10032-11<span class="pl-pds">"</span></span>);
std::vector&lt;std::string&gt; bid;
bid.push_back(<span class="pl-s"><span class="pl-pds">"</span>saddd<span class="pl-pds">"</span></span>);
bid.push_back(<span class="pl-s"><span class="pl-pds">"</span>xxxx<span class="pl-pds">"</span></span>);
request.m_bussinessIds.SetValue(bid);
request.m_invoiceTicket.SetValue(invoTic);

std::string str;
std::string error;
<span class="pl-c1">uint32_t</span> ret = request.ToJson(str, error);
<span class="pl-k">if</span> (json2cpp::ERR_OK != ret)
{
    std::cout&lt;&lt;<span class="pl-s"><span class="pl-pds">"</span>error:<span class="pl-pds">"</span></span>&lt;&lt;ret&lt;&lt;<span class="pl-s"><span class="pl-pds">"</span>, <span class="pl-pds">"</span></span>&lt;&lt;error&lt;&lt;std::endl;
    <span class="pl-k">return</span>;
}

<span class="pl-c">/**** Response Sample ****/</span>
ifstream <span class="pl-en">fin</span>(<span class="pl-s"><span class="pl-pds">"</span>json.txt<span class="pl-pds">"</span></span>);
<span class="pl-en">getline</span>(fin,str);
<span class="pl-c1">uint32_t</span> status = <span class="pl-c1">200</span>;
AddInvoiceResponse response;
<span class="pl-c1">uint32_t</span> ret = response.FromJson(str, status);
<span class="pl-k">if</span>(ret != json2cpp::ERR_OK)
{
    std::cout&lt;&lt;<span class="pl-s"><span class="pl-pds">"</span>error:<span class="pl-pds">"</span></span>&lt;&lt;ret&lt;&lt;<span class="pl-s"><span class="pl-pds">"</span>, <span class="pl-pds">"</span></span>&lt;&lt;response.<span class="pl-smi">m_JSFMessage</span>.<span class="pl-c1">GetValue</span>()&lt;&lt;std::endl;
    <span class="pl-k">return</span>;
}</pre></div>

<h3>
<a id="grammar" class="anchor" href="#grammar" aria-hidden="true"><span class="octicon octicon-link"></span></a>Grammar</h3>

<div class="highlight highlight-source-c++"><pre><span class="pl-c">//namespace, allow 0 or more</span>
(<span class="pl-k">namespace</span> {name_space};)

<span class="pl-c">//user define class, allow 0 or more</span>
(
(@description=<span class="pl-s"><span class="pl-pds">"</span>{description_str}<span class="pl-pds">"</span></span>)
<span class="pl-k">class</span> {class_name}{
    @jsonname={json_filed_name}(,description=<span class="pl-s"><span class="pl-pds">"</span>{description_str}<span class="pl-pds">"</span></span>, optional=[<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>], <span class="pl-k">default</span>=<span class="pl-s"><span class="pl-pds">"</span>{default_value_str}<span class="pl-pds">"</span></span>)
    [field_type] {field_name}; 
};
)

 <span class="pl-c">//interface, allow 1 or more</span>
(@description=<span class="pl-s"><span class="pl-pds">"</span>{description_str}<span class="pl-pds">"</span></span>)
Interface {interface_name}{
    <span class="pl-c">//request, must have only 1 for every interface</span>
    Request{
        @jsonname={json_filed_name}(,description=<span class="pl-s"><span class="pl-pds">"</span>{description_str}<span class="pl-pds">"</span></span>, optional=[<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>], <span class="pl-k">default</span>=<span class="pl-s"><span class="pl-pds">"</span>{default_value_str}<span class="pl-pds">"</span></span>)
        [field_type] {field_name} (optional); 
    };

    <span class="pl-c">//response, must have only 1 for every interface</span>
    Response{
        @jsonname={json_filed_name}(,description=<span class="pl-s"><span class="pl-pds">"</span>{description_str}<span class="pl-pds">"</span></span>, optional=[<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>], <span class="pl-k">default</span>=<span class="pl-s"><span class="pl-pds">"</span>{default_value_str}<span class="pl-pds">"</span></span>)
        [field_type] {field_name} (optional); 
    };
};

</pre></div>

<h4>
<a id="conventions" class="anchor" href="#conventions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conventions：</h4>

<ol>
<li>
<strong>()</strong> means the grammar token is optional, it can be defined 0 or 1</li>
<li>
<strong>{}</strong> means variable name</li>
<li>
<strong>@</strong> means comments</li>
<li>
<strong>[]</strong> means specified value of the set</li>
</ol>

<h4>
<a id="details" class="anchor" href="#details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Details：</h4>

<ol>
<li>
<strong>{name_space}</strong> means C++ style namespace</li>
<li>
<strong>{class_name}</strong>, <strong>{interface_name}</strong>, <strong>{field_name}</strong>, <strong>{json_filed_name}</strong> means self-defined struct/class, Interface, Field Name, JSON Field name. They can be any valid string</li>
<li>User can define 1 or more <strong>class</strong>, the definitation sequence should follow the C++ style</li>
<li>User can define 1 or more <strong>Interface</strong>，each Interface MUST have a pair of request/response objects</li>
<li>
<p><strong>@</strong> means comments，now it supports <strong>jsonname</strong>, <strong>description</strong>, <strong>optional</strong>, <strong>default</strong> key-words:</p>

<table>
<thead>
<tr>
<th align="center">Key-Word</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">jsonname</td>
<td align="center">JSON Field Name [It MUST be specified]</td>
</tr>
<tr>
<td align="center">description</td>
<td align="center">It will be generated into C++ code for comments [Optional]</td>
</tr>
<tr>
<td align="center">optional</td>
<td align="center">Specifies the JSON field is optional，value should be "true" or "false"，default is"false" [Optional]</td>
</tr>
<tr>
<td align="center">default</td>
<td align="center">Specifies the default value of C++ member feild [Optional]</td>
</tr>
</tbody>
</table>
</li>
<li><p><strong>[field_type]</strong> Filed Type. Now supporting <em>short</em>, <em>int</em>, <em>bool</em>, <em>uint32_t</em>, <em>uint64_t</em>, <em>int64_t</em>, <em>double</em>, self-define class <em>T</em> and <em>vector&lt;</em><em>T</em><em>&gt;</em>.</p></li>
<li><p>Supports C++ sytle comments like <code>//comments</code> and <code>/*comments*/</code> , the commots will be ignored when being parsing.</p></li>
</ol>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ZhengfengRao/json2cpp">Json2cpp</a> is maintained by <a href="https://github.com/ZhengfengRao">ZhengfengRao</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
